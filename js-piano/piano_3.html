<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>JS Piano 1</title>
</head>
<body>
<p>The goal is for this piano to play sounds on space keypress, and stop on release of the keypress. Press <em>space</em> to start a tone.</p>

<p>But instead of using code from StackOverflow, let's use the built-in AudioContext oscillator: </p>

<p>Goals with future pianos:</p>
</li><li> Touch-friendly key button
</li><li> QWERTYU-23567 keys
</li><li> Remapping for Dvorak?
</li></ol>

Future pianos should have more tones, (1) require click focus and (2) use touch-friendly buttons, and (3) even provide key-remapping for the Dvoraks out there.</p>

<script>
// https://stackoverflow.com/questions/34708980/generate-sine-wave-and-play-it-in-the-browser

window.AudioContext = window.AudioContext || window.webkitAudioContext;
var audioCtx = new AudioContext();

var oscillatorNode = audioCtx.createOscillator();
var gainNode = audioCtx.createGain();
var finish = audioCtx.destination;


// https://stackoverflow.com/questions/43958637/how-to-play-a-sound-on-key-press-in-javascript
document.addEventListener('keydown', function(e) {
  if (e.keyCode == 32) { //space
    oscillatorNode.start()
  }
});

document.addEventListener('keyup', function(e) {
  if (e.keyCode == 32) { //space
    oscillatorNode.stop()
  }
});
</script>
</body>
</html>
